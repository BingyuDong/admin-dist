import{e,n as t,g as n,f as o,u as i,i as s,b as r,r as u,w as c}from"./@vue-a87a2c7f.js";const a="undefined"!=typeof window&&"undefined"!=typeof document;function l(n,o=!0,i){const r=function(e){return e||s()}();r?e(n,i):o?n():t(n)}function d(e){var t;const n="function"==typeof(o=e)?o():i(o);var o;return null!=(t=null==n?void 0:n.$el)?t:n}"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const f=a?window:void 0;function v(t){const n=function(){const t=u(!1),n=s();return n&&e((()=>{t.value=!0}),n),t}();return r((()=>(n.value,Boolean(t()))))}function h(e,t,i={}){const{window:s=f,...u}=i;let a;const l=v((()=>s&&"ResizeObserver"in s)),h=()=>{a&&(a.disconnect(),a=void 0)},w=r((()=>Array.isArray(e)?e.map((e=>d(e))):[d(e)])),p=c(w,(e=>{if(h(),l.value&&s){a=new ResizeObserver(t);for(const t of e)t&&a.observe(t,u)}}),{immediate:!0,flush:"post"}),b=()=>{h(),p()};var g;return g=b,n()&&o(g),{isSupported:l,stop:b}}function w(e,t={width:0,height:0},n={}){const{window:o=f,box:i="content-box"}=n,s=r((()=>{var t,n;return null==(n=null==(t=d(e))?void 0:t.namespaceURI)?void 0:n.includes("svg")})),a=u(t.width),v=u(t.height),{stop:w}=h(e,(([t])=>{const n="border-box"===i?t.borderBoxSize:"content-box"===i?t.contentBoxSize:t.devicePixelContentBoxSize;if(o&&s.value){const t=d(e);if(t){const e=t.getBoundingClientRect();a.value=e.width,v.value=e.height}}else if(n){const e=Array.isArray(n)?n:[n];a.value=e.reduce(((e,{inlineSize:t})=>e+t),0),v.value=e.reduce(((e,{blockSize:t})=>e+t),0)}else a.value=t.contentRect.width,v.value=t.contentRect.height}),n);l((()=>{const n=d(e);n&&(a.value="offsetWidth"in n?n.offsetWidth:t.width,v.value="offsetHeight"in n?n.offsetHeight:t.height)}));const p=c((()=>d(e)),(e=>{a.value=e?t.width:0,v.value=e?t.height:0}));return{width:a,height:v,stop:function(){w(),p()}}}export{w as u};
