import{l as e,W as t,X as o,Y as i,Z as s,_ as l,j as m,h as n}from"./element-plus-4fb390ec.js";import{d as a,o as r,O as p,aa as d,P as f,I as u,ac as O,L as c,V as y,c as _,F as k,a8 as v,al as V,T as b,U as h,R as w,S as x,r as C,a as I,u as L,a3 as F}from"./@vue-a87a2c7f.js";const $=a({__name:"formItem",props:{formOptions:{},item:{}},setup(l){const m=l;return(l,n)=>{const a=e,C=t,I=o,L=i,F=s;return l.item.slot&&!l.item.hide?(r(),p(a,O(c({key:0},l.item)),d({_:2},[l.item.slot?{name:"default",fn:f((()=>[u(l.$slots,l.item.slot,{item:l.item})])),key:"0"}:void 0]),1040)):l.item.hide||"radio"!=l.item.controlName?l.item.hide||"select"!=l.item.controlName?l.item.hide?x("",!0):(r(),p(a,O(c({key:3},l.item)),{default:f((()=>[(r(),p(w(`el-${l.item.controlName}`),c({modelValue:m.formOptions.model[l.item.prop],"onUpdate:modelValue":n[2]||(n[2]=e=>m.formOptions.model[l.item.prop]=e)},l.item.bindControlOptions),null,16,["modelValue"]))])),_:1},16)):(r(),p(a,O(c({key:2},l.item)),{default:f((()=>[y(F,c(l.item.bindControlOptions,{modelValue:m.formOptions.model[l.item.prop],"onUpdate:modelValue":n[1]||(n[1]=e=>m.formOptions.model[l.item.prop]=e)}),{default:f((()=>{var e;return[(r(!0),_(k,null,v(null==(e=l.item.bindControlOptions)?void 0:e.selectOptionsList,(e=>(r(),p(L,O(V(e)),null,16)))),256))]})),_:1},16,["modelValue"])])),_:1},16)):(r(),p(a,O(c({key:1},l.item)),{default:f((()=>[y(I,c(l.item.bindControlOptions,{modelValue:m.formOptions.model[l.item.prop],"onUpdate:modelValue":n[0]||(n[0]=e=>m.formOptions.model[l.item.prop]=e)}),{default:f((()=>[(r(!0),_(k,null,v(l.item.bindControlOptions.radioOptionsList,(e=>(r(),p(C,O(V(e)),{default:f((()=>[b(h(e.optionName),1)])),_:2},1040)))),256))])),_:1},16,["modelValue"])])),_:1},16))}}}),N={key:0,class:"flex w-full"},U={class:"mr-[10px] w-[32px]"},j={class:"w-full"},g=a({__name:"form",props:{formOptions:{},formItemOptionsList:{}},setup(t,{expose:o}){const i=t;let s=C();return o({submitForm:async()=>{if(s)return await s.value.validate(((e,t)=>!!e))},resetForm:async()=>{if(s)return await s.value.resetFields()}}),(t,o)=>{const a=m,O=e,V=n;return r(),p(V,c({ref_key:"formRef",ref:s,"label-width":"auto",style:{"max-width":"600px"}},i.formOptions,{onSubmit:o[0]||(o[0]=F((()=>{}),["prevent"]))}),{default:f((()=>[(r(!0),_(k,null,v(t.formItemOptionsList,((e,o)=>(r(),_(k,{key:o},[i.formOptions.dynamicForm?(r(),_("div",N,[I("div",U,[e.canDeleted?(r(),p(a,{key:0,type:"danger",icon:"Delete",circle:"",plain:"",onClick:t=>(e=>{let t=i.formItemOptionsList.findIndex((t=>t.prop==e.prop));t<0||l.confirm(`是否删除表单项${e.label}？`,"提示",{type:"warning"}).then((()=>{delete i.formOptions.model[e.prop],i.formItemOptionsList.splice(t,1)}))})(e)},null,8,["onClick"])):x("",!0)]),I("div",j,[y($,{item:e,formOptions:i.formOptions},null,8,["item","formOptions"])])])):(r(),p($,{key:1,item:e,formOptions:i.formOptions},d({_:2},[e.slot?{name:e.slot,fn:f((()=>[u(t.$slots,e.slot,{item:e})])),key:"0"}:void 0]),1032,["item","formOptions"]))],64)))),128)),y(O,null,{default:f((()=>[u(t.$slots,"action",{form:L(s),model:i.formOptions.model,options:t.formOptions})])),_:3})])),_:3},16)}}});export{g as _};
