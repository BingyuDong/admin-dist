import{s as e,g as t,j as a,U as s,V as l,T as i,n as o,o as r}from"./element-plus-4fb390ec.js";import{d as n,r as p,o as m,c,V as u,P as d,a as b,T as f,u as g,D as j,Q as v,W as _,U as x}from"./@vue-a87a2c7f.js";import{c as y}from"./table-acb6c88d.js";import{_ as h}from"./form.vue_vue_type_script_setup_true_lang-545330d1.js";import{_ as S}from"./_plugin-vue_export-helper-1b428a4d.js";import"./lodash-es-3d6dbac5.js";import"./@element-plus-4fb40093.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./dayjs-53faf157.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./escape-html-d8f7a771.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-24fcdcc4.js";import"./index-ef1c5e6c.js";import"./tsparticles-297fdaac.js";/* empty css                    */import"./pinia-4b2ef30a.js";import"./vue-router-f5cabc9b.js";import"./nprogress-2550a2a2.js";import"./pinia-plugin-persist-70d140bd.js";/* empty css                    */import"./mavon-editor-f2a4223c.js";import"./vue-4c1d1bed.js";import"./vue3-particles-cfa99759.js";import"./vue-class-component-5f986da7.js";import"./highlight.js-417286a0.js";import"./@highlightjs-2b324e67.js";const w={class:""},O={class:"flex items-center text-[24px]"},P=S(n({__name:"tableScreen",props:{tableScreenParams:{},tableScreenItemOptionsList:{}},emits:["tableScreenParamsChange"],setup(i,{emit:o}){const r=p(["1"]);let n=p();const v=o;let _={...i.tableScreenParams},x=p({model:_,style:"max-width: calc(100%)",inline:!0});const y=async()=>{await n.value.submitForm()&&v("tableScreenParamsChange",x.value.model)},S=async()=>{await n.value.resetForm(),v("tableScreenParamsChange",{...x.value.model})};return(i,o)=>{const p=e,v=t,_=a,P=s,C=l;return m(),c("div",w,[u(C,{modelValue:g(r),"onUpdate:modelValue":o[0]||(o[0]=e=>j(r)?r.value=e:null)},{default:d((()=>[u(P,{title:"筛选",name:"1"},{title:d((()=>[b("div",O,[u(p,{class:"mr-1 iconfont el-icon-shaixuan2"}),u(v,{class:"font-semibold"},{default:d((()=>[f("表格筛选")])),_:1})])])),default:d((()=>[u(h,{ref_key:"customFormRef",ref:n,formOptions:g(x),formItemOptionsList:i.tableScreenItemOptionsList},{action:d((()=>[u(_,{type:"primary",onClick:y},{default:d((()=>[f("搜索")])),_:1}),u(_,{type:"danger",onClick:S},{default:d((()=>[f("重置")])),_:1})])),_:1},8,["formOptions","formItemOptionsList"])])),_:1})])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-285b6b74"]]),C={class:"w-full mb-[10px] flex justify-between"},I={class:"text-end"},L=n({__name:"basis",setup(e){const t=p({loading:!0,border:!0,stripe:!0,rowKey:"id"}),s=p({currentPage:1,pageSize:10,total:0});let l=p(!0);const n=[{type:"selection"},{prop:"id",label:"ID",align:"center",width:"80px",sortable:"custom"},{prop:"name",label:"名称",align:"center"},{prop:"status",label:"状态",align:"center",slot:"status"},{prop:"测试列",label:"自定义插槽测试",align:"center",slot:"testSlot"},{prop:"option",label:"操作",align:"center",fixed:"right"}],h=p([]),S=(e,a)=>{t.value.loading=!0,setTimeout((()=>{h.value=((e,t)=>{let a=[];for(let s=1;s<=t;s++)a.push({id:(e-1)*t+s,name:`num${(e-1)*t+s}`,createTime:"",status:((e-1)*t+s)%3==0?"1":"2"});return a})(e,a),s.value.currentPage=e,s.value.pageSize=a,s.value.total=100,t.value.loading=!1}),500)};let w=p({name:"",state:""}),O=p([{controlName:"input",prop:"name",label:"名称:",bindControlOptions:{placeholder:"请输入名称"}},{controlName:"select",prop:"state",label:"状态:",bindControlOptions:{placeholder:"请选择状态",selectOptionsList:[{label:"正常",value:"1"},{label:"异常",value:"2"}]}}]);const L=e=>{w.value=e,i({title:"成功",message:`表单验证成功，当前筛选条件为${JSON.stringify(w.value)}，此时可以拿当前筛选条件请求表格数据（分页器的currentPage属性值记得置为1）`,type:"success"})},k=(e,t)=>{S(e,t)};return S(s.value.currentPage,s.value.pageSize),(e,i)=>{const p=o,z=a,T=r;return m(),c("div",null,[v(u(p,{class:"mb-[10px] !transition-all"},{default:d((()=>[u(P,{tableScreenParams:g(w),tableScreenItemOptionsList:g(O),onTableScreenParamsChange:L},null,8,["tableScreenParams","tableScreenItemOptionsList"])])),_:1},512),[[_,g(l)]]),u(p,{class:"w-full"},{default:d((()=>[b("div",C,[b("div",null,[u(z,{class:"!ml-0 mr-[10px] mb-[10px] pc:mb-0",type:"info",plain:""},{default:d((()=>[f("导出")])),_:1}),u(z,{class:"!ml-0 mr-[10px] mb-[10px] pc:mb-0",type:"success",plain:""},{default:d((()=>[f("添加")])),_:1}),u(z,{class:"!ml-0 mr-[10px] mb-[10px] pc:mb-0",type:"success",plain:""},{default:d((()=>[f("批量添加")])),_:1}),u(z,{class:"!ml-0 mr-[10px] mb-[10px] pc:mb-0",type:"danger"},{default:d((()=>[f("批量删除")])),_:1})]),b("div",I,[u(z,{class:"!mr-0 !ml-[10px] mb-[10px] pc:mb-0",type:g(l)?"primary":"info",circle:"",plain:"",icon:"Operation",onClick:i[0]||(i[0]=e=>j(l)?l.value=!g(l):l=!g(l))},null,8,["type"]),u(z,{class:"!mr-0 !ml-[10px] mb-[10px] pc:mb-0",type:"info",circle:"",plain:"",icon:"Refresh",onClick:i[1]||(i[1]=e=>S(g(s).currentPage,g(s).pageSize))})])]),u(y,{"table-options":g(t),tableColumnList:n,"table-data":g(h),paginationOption:g(s),onPaginationChange:k},{expand_slot:d((({row:e})=>[u(p,null,{default:d((()=>[f(" 这里是展开的测试行"+x(e.id),1)])),_:2},1024)])),testSlot:d((({row:e})=>[f(" 这里是测试的自定义插槽"+x(e.id),1)])),status:d((({row:e})=>[u(T,{effect:"dark",type:1==e.status?"success":"danger"},{default:d((()=>[f(x(1==e.status?"正常":"异常"),1)])),_:2},1032,["type"])])),option:d((({row:e})=>[u(z,{type:"danger",plain:""},{default:d((()=>[f("删除")])),_:1})])),_:1},8,["table-options","table-data","paginationOption"])])),_:1})])}}});export{L as default};
